<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:th="http://www.w3.org/1999/xhtml" layout:decorator="layout">
<head>
<title>Home</title>

<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>
<body>
	<section layout:fragment="content">

		<div class="row">
			<div class="col-lg-12 grid-margin stretch-card">
				<div class="card">
					<div class="card-body">
						
						<div id="divMensagem" class="alert alert-primary" role="alert" th:text="${message}" th:if="${message}"></div>
						
						<h4 class="card-title">CLIENTES CADASTRADOS</h4>

						<a href="cadastrar-cliente">
							<button id="cadastrar" type="button" class="btn btn-primary">NOVO</button>
						</a>
                         
						<div class="table-responsive">
							<table class="table table-bordered table table-hover text-center table table table-sm">
								<thead>
									<tr>
										<th>NOME</th>
										<th>ENDEREÇO</th>
										<th>TELEFONE</th>
										<th>E-MAIL</th>
										<th>AÇÕES</th>
									</tr>

								</thead>
								<tbody>

									<tr th:each="cliente: ${clientes}">

										<td th:text="${cliente.nome}" />
										<td th:text="${cliente.endereco}" />
										<td th:text="${cliente.telefone}" />
                                        <td th:text="${cliente.email}" />
										<td>
											<div class="text-center">
                                             <a href="#EDITAR"><button id="editar" type="button" class="btn btn-warning">EDITAR</button> </a> 
											 <a   th:href="@{/pages/consultar-clientes/{id}(id = ${cliente.identificador})}" class="btn btn-danger eBtn">EXCLUIR</a>
                                           </div>
										</td>
									</tr>
								</tbody>
							</table>
						    <!-- INICIO MODAL -->
				            <div  class="myForm" >
					          <div class="modal fade " tabindex="-1" id="modalQuestion"
						        aria-labelledby="labelModalQuestion" aria-hidden="true">
						          <div class="modal-dialog">
							        <div class="modal-content">
								      <div class="modal-header">
									    <h5 class="modal-title" id="labelModalQuestion">Deseja realmente excluir este cliente?</h5>
									      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
								      </div>
								       <div class="modal-body center">
									    <a th:href="@{/pages/consultar-clientes}" class="btn btn-primary">NÃO</a>
								 	     <a href="" class="btn btn-danger"  id="delRef">SIM</a>
								      </div>
							        </div>
						          </div>
					          </div>
				            </div>
				            <!-- FIM MODAL -->
						</div>
					</div>
				</div>
			</div>
		</div>
	
	<script type="text/javascript" th:src="@{/js/script-mensagem.js}" src="../../static/js/script-mensagem.js"></script>
	<script type="text/javascript" th:src="@{/js/script-modal.js}" src="../../static/js/script-modal.js"></script>
	
	</section>

</body>
</html>